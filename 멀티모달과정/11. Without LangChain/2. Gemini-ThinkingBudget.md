# ThinkingBudget

GenerateContentConfig() 메서드의 매개변수고 ThinkingConfig를 넣어서 **사용 되는 토큰의 한계치를 설정**할 수 있다.

```python
from google import genai

from google.genai import types

  

client = genai.Client()

  

response = client.models.generate_content(

    model="gemini-2.5-pro",

    # contents="Provide a list of 3 famous physicists and their key contributions",

    contents="유명한 물리학자 세 명과 그들의 주요 업적을 알려주세요.",

    config=types.GenerateContentConfig(

        thinking_config=types.ThinkingConfig(thinking_budget=1024)

        # Turn off thinking:

        # thinking_config=types.ThinkingConfig(thinking_budget=0)

        # Turn on dynamic thinking:

        # thinking_config=types.ThinkingConfig(thinking_budget=-1)

    ),

)

  

print(response.text)
```








그런데 아래와 같이 thinking_budget을 -1로 할 수도 있다. 이게 무슨 뜻일까?

```python
from google import genai

from google.genai import types

  

client = genai.Client()

  

response = client.models.generate_content(

    model="gemini-2.5-pro",

    # contents="Provide a list of 3 famous physicists and their key contributions",

    contents="유명한 물리학자 세 명과 그들의 주요 업적을 알려주세요.",

    config=types.GenerateContentConfig(

        thinking_config=types.ThinkingConfig(thinking_budget=-1)

        # Turn off thinking:

        # thinking_config=types.ThinkingConfig(thinking_budget=0)

        # Turn on dynamic thinking:

        # thinking_config=types.ThinkingConfig(thinking_budget=-1)

    ),

)

  

print(response.text)
```

`thinking_budget=-1`는 Gemini 모델에게 "답변을 생성하기 전에 **충분히, 필요한 만큼 자유롭게 사고하라**"고 지시하는 설정이다.



정리하자면 다음과 같다.

- **`thinking_budget = -1` (동적 사고 허용)**
    
    - 모델이 질문의 복잡성을 스스로 판단하고, 여러 단계를 거쳐 최적의 답변을 생성할 수 있도록 **사고 예산을 무제한**으로 설정합니다.
        
    - 복잡한 문제나 추론이 필요한 질문에 대해 **가장 정확하고 신뢰성 높은 답변**을 얻고자 할 때 사용합니다.
        
- **`thinking_budget = 0` (사고 비활성화)**
    
    - 모델의 추론 과정을 건너뛰고, **즉각적이고 직접적인 답변**을 하게 합니다.
        
    - 간단하고 명확한 사실을 묻는 질문이나 빠른 응답 속도가 중요할 때 유용합니다.
        
- **`thinking_budget = n` (특정 횟수 제한)**
    
    - 모델의 사고 단계를 특정 횟수(예: 5)로 제한합니다.
        
    - 정확성과 응답 속도 사이에서 **균형을 맞추고 싶을 때** 사용할 수 있습니다.







# 토큰 사용량 확인하기

response(응답 내용)의 **usage_metadata**를 사용해서 토큰 사용량을 출력하는 메서드를 작성할 수 있다.

```python
from google import genai

from google.genai import types

  
  

def print_gemini_token(response):

    """Gemini 응답의 토큰 사용량 정보를 출력하는 함수"""

    print("=== 생성된 텍스트 ===")

    print(response.text)

    print("\n=== 토큰 사용량 정보 ===")

  

    # 토큰 사용량 확인

    usage = response.usage_metadata

    print(f"입력 토큰 수: {usage.prompt_token_count}")

    print(f"생각 토큰 수: {usage.thoughts_token_count}")

    print(f"출력 토큰 수: {usage.candidates_token_count}")

    print(f"전체 토큰 수: {usage.total_token_count}")

  
  

client = genai.Client()

  

response = client.models.generate_content(

    model="gemini-2.5-pro",

    contents="유명한 물리학자 세 명과 그들의 주요 업적을 하나씩만 알려주세요.",

    config=types.GenerateContentConfig(

        thinking_config=types.ThinkingConfig(thinking_budget=1024)

    ),

)

  

# 함수 사용

print_gemini_token(response)
```