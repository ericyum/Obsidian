# JSON

`.json` 확장자를 가지는 파일을 로더로 로드하는 방법을 살펴보겠습니다.

- 참고: [https://python.langchain.com/docs/modules/data_connection/document_loaders/json](https://python.langchain.com/docs/modules/data_connection/document_loaders/json)
    

```python
import json

from pathlib import Path

from pprint import pprint

  
  

file_path = "data/people.json"

data = json.loads(Path(file_path).read_text(encoding="utf-8"))

  

pprint(data)
```

```
[{'address': {'city': '서울', 'street': '312번지', 'zipCode': '83795'}, 'age': 31, 'carOwnership': True, 'hobbies': ['요리', '음악 감상', '사진 촬영'], 'isMarried': True, 'name': '박시우', 'phoneNumbers': ['483-4639-1933', '947-4179-7976']}, {'address': {'city': '서울', 'street': '877번지', 'zipCode': '36780'}, 'age': 31, 'carOwnership': True, 'hobbies': ['여행', '음악 감상', '등산'], 'isMarried': False, 'name': '정수아', 'phoneNumbers': ['337-5721-3227', '387-3768-9586']}, {'address': {'city': '서울', 'street': '175번지', 'zipCode': '89067'}, 'age': 43, 'carOwnership': True, 'hobbies': ['등산', '독서', '게임'], 'isMarried': False, 'name': '최도윤', 'phoneNumbers': ['354-5563-4638', '471-9212-1826']}, {'address': {'city': '서울', 'street': '690번지', 'zipCode': '70635'}, 'age': 22, 'carOwnership': False, 'hobbies': ['여행', '등산', '게임'],

...

'hobbies': ['여행', '요리', '영화 감상'], 'isMarried': True, 'name': '최주원', 'phoneNumbers': ['460-4533-7245', '344-2344-7362']}]
```


```python
file_path = "data/people.json"

with open(file_path) as f:
    data = json.load(f)

# JSON 데이터 출력
print(data)
```


```python
type(data[0])
```

```
dict
```


## JSONLoader

JSON 데이터의 메시지 키 내 content 필드 아래의 값을 추출하고 싶다고 가정하였을 때, 아래와 같이 JSONLoader를 통해 쉽게 수행할 수 있습니다.

```python
# !pip install jq
```

JSONLoader의 매개변수 **text_content**는 JQ 스키마로 추출된 값의 종류를 제한합니다.

text_content=True: JQ 결과물이 반드시 문자열이어야 합니다. 리스트나 객체 같은 다른 형식의 데이터가 추출되면 오류가 발생합니다.

text_content=False: JQ 결과물이 문자열이 아니어도 괜찮으며, 리스트나 객체 같은 데이터도 JSON 문자열로 변환하여 Document에 저장합니다.


```python
from langchain_community.document_loaders import JSONLoader

  

# JSONLoader 생성

loader = JSONLoader(

    file_path="data/people.json",

    jq_schema=".[].phoneNumbers",

    text_content=False,

)

  

# 문서 로드

docs = loader.load()

  

# 결과 출력

pprint(docs)
```

```
[Document(metadata={'source': 'C:\\Users\\SBA\\github\\langchain-kr\\06-DocumentLoader\\data\\people.json', 'seq_num': 1}, page_content='["483-4639-1933", "947-4179-7976"]'), Document(metadata={'source': 'C:\\Users\\SBA\\github\\langchain-kr\\06-DocumentLoader\\data\\people.json', 'seq_num': 2}, page_content='["337-5721-3227", "387-3768-9586"]'), Document(metadata={'source': 'C:\\Users\\SBA\\github\\langchain-kr\\06-DocumentLoader\\data\\people.json', 'seq_num': 3}, page_content='["354-5563-4638", "471-9212-1826"]'), Document(metadata={'source': 'C:\\Users\\SBA\\github\\langchain-kr\\06-DocumentLoader\\data\\people.json', 'seq_num': 4}, page_content='["468-2796-2152", "922-5760-7030"]'), Document(metadata={'source': 'C:\\Users\\SBA\\github\\langchain-kr\\06-DocumentLoader\\data\\people.json', 'seq_num': 5}, page_content='["751-2823-8259", "722-7267-9516"]'), Document(metadata={'source': 'C:\\Users\\SBA\\github\\langchain-kr\\06-DocumentLoader\\data\\people.json', 'seq_num': 6}, page_content='["462-4433-5968", "483-1709-4850"]'), Document(metadata={'source': 'C:\\Users\\SBA\\github\\langchain-kr\\06-DocumentLoader\\data\\people.json', 'seq_num': 7}, page_content='["382-2779-3692", "835-4343-5346"]'), Document(metadata={'source': 'C:\\Users\\SBA\\github\\langchain-kr\\06-DocumentLoader\\data\\people.json', 'seq_num': 8}, page_content='["136-2831-1021", "818-9721-7208"]'), Document(metadata={'source': 'C:\\Users\\SBA\\github\\langchain-kr\\06-DocumentLoader\\data\\people.json', 'seq_num': 9}, page_content='["423-5001-2734", "256-4271-3750"]'), Document(metadata={'source': 'C:\\Users\\SBA\\github\\langchain-kr\\06-DocumentLoader\\data\\people.json', 'seq_num': 10}, page_content='["668-1157-6180", "815-9997-6459"]'), Document(metadata={'source': 'C:\\Users\\SBA\\github\\langchain-kr\\06-DocumentLoader\\data\\people.json', 'seq_num': 11}, page_content='["745-5529-4411", "437-3892-3668"]'), Document(metadata={'source': 'C:\\Users\\SBA\\github\\langchain-kr\\06-DocumentLoader\\data\\people.json', 'seq_num': 12}, page_content='["914-2071-3446", "539-6835-4629"]'), Document(metadata={'source': 'C:\\Users\\SBA\\github\\langchain-kr\\06-DocumentLoader\\data\\people.json', 'seq_num': 13}, page_content='["709-3578-3445", "907-3295-1822"]'), Document(metadata={'source': 'C:\\Users\\SBA\\github\\langchain-kr\\06-DocumentLoader\\data\\people.json', 'seq_num': 14}, page_content='["508-9125-7029", "939-1920-5084"]'), Document(metadata={'source': 'C:\\Users\\SBA\\github\\langchain-kr\\06-DocumentLoader\\data\\people.json', 'seq_num': 15}, page_content='["891-2980-9497", "811-3249-9899"]'), Document(metadata={'source': 'C:\\Users\\SBA\\github\\langchain-kr\\06-DocumentLoader\\data\\people.json', 'seq_num': 16}, page_content='["499-4872-5904", "140-3733-7715"]'), Document(metadata={'source': 'C:\\Users\\SBA\\github\\langchain-kr\\06-DocumentLoader\\data\\people.json', 'seq_num': 17}, page_content='["672-6315-8675", "975-1259-1656"]'), Document(metadata={'source': 'C:\\Users\\SBA\\github\\langchain-kr\\06-DocumentLoader\\data\\people.json', 'seq_num': 18}, page_content='["853-1953-3723", "408-3476-1336"]'), Document(metadata={'source': 'C:\\Users\\SBA\\github\\langchain-kr\\06-DocumentLoader\\data\\people.json', 'seq_num': 19}, page_content='["290-8270-9786", "483-1765-4028"]'), Document(metadata={'source': 'C:\\Users\\SBA\\github\\langchain-kr\\06-DocumentLoader\\data\\people.json', 'seq_num': 20}, page_content='["460-4533-7245", "344-2344-7362"]')]
```