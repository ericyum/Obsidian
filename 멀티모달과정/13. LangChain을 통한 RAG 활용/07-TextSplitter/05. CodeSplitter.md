# Split code

CodeTextSplitterë¥¼ ì‚¬ìš©í•˜ë©´ ë‹¤ì–‘í•œ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡œ ì‘ì„±ëœ ì½”ë“œë¥¼ ë¶„í• í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ë¥¼ ìœ„í•´ì„œëŠ” `Language` enumì„ importí•˜ê³ , í•´ë‹¹í•˜ëŠ” í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¥¼ ì§€ì •í•´ì£¼ë©´ ë©ë‹ˆë‹¤.

`RecursiveCharacterTextSplitter`ë¥¼ ì‚¬ìš©í•˜ì—¬ í…ìŠ¤íŠ¸ë¥¼ ë¶„í• í•˜ëŠ” ì˜ˆì œì…ë‹ˆë‹¤.

- `langchain_text_splitters` ëª¨ë“ˆì—ì„œ `Language`ì™€ `RecursiveCharacterTextSplitter` í´ë˜ìŠ¤ë¥¼ ì„í¬íŠ¸í•©ë‹ˆë‹¤.
- `RecursiveCharacterTextSplitter`ëŠ” í…ìŠ¤íŠ¸ë¥¼ ë¬¸ì ë‹¨ìœ„ë¡œ ì¬ê·€ì ìœ¼ë¡œ ë¶„í• í•˜ëŠ” í…ìŠ¤íŠ¸ ë¶„í• ê¸°ì…ë‹ˆë‹¤.

```python
from langchain_text_splitters import (
    Language,
    RecursiveCharacterTextSplitter,
)
```

ì§€ì›ë˜ëŠ” ì–¸ì–´ì˜ ì „ì²´ ëª©ë¡ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.

```python
# ì§€ì›ë˜ëŠ” ì–¸ì–´ì˜ ì „ì²´ ëª©ë¡ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.
[e.value for e in Language]
```

**Output:**

```
['cpp',
 'go',
 'java',
 'kotlin',
 'js',
 'ts',
 'php',
 'proto',
 'python',
 'rst',
 'ruby',
 'rust',
 'scala',
 'swift',
 'markdown',
 'latex',
 'html',
 'sol',
 'csharp',
 'cobol',
 'c',
 'lua',
 'perl',
 'haskell',
 'elixir',
 'powershell',
 'visualbasic6']
```

`RecursiveCharacterTextSplitter` í´ë˜ìŠ¤ì˜ `get_separators_for_language` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ íŠ¹ì • ì–¸ì–´ì— ì‚¬ìš©ë˜ëŠ” êµ¬ë¶„ì(separators)ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- ì˜ˆì‹œì—ì„œëŠ” `Language.PYTHON` ì—´ê±°í˜• ê°’ì„ ì¸ìë¡œ ì „ë‹¬í•˜ì—¬ Python ì–¸ì–´ì— ì‚¬ìš©ë˜ëŠ” êµ¬ë¶„ìë¥¼ í™•ì¸í•©ë‹ˆë‹¤.

```python
# ì£¼ì–´ì§„ ì–¸ì–´ì— ëŒ€í•´ ì‚¬ìš©ë˜ëŠ” êµ¬ë¶„ìë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
RecursiveCharacterTextSplitter.get_separators_for_language(Language.PYTHON)
```

**Output:**

```
['\nclass ', '\ndef ', '\n\tdef ', '\n\n', '\n', ' ', '']
```

1. '\nclass ': í´ë˜ìŠ¤ ì •ì˜ë¥¼ ìµœìƒìœ„ ë¶„í•  ë‹¨ìœ„ë¡œ ë´…ë‹ˆë‹¤. ìƒˆ í´ë˜ìŠ¤ê°€ ì‹œì‘ë˜ëŠ” ì§€ì ì—ì„œ ì½”ë“œë¥¼ ë¶„í• í•˜ì—¬ ê° í´ë˜ìŠ¤ ì •ì˜ë¥¼ ë³„ë„ì˜ ë©ì–´ë¦¬ë¡œ ë§Œë“¤ë ¤ê³  ì‹œë„í•©ë‹ˆë‹¤. \n (ì¤„ë°”ê¿ˆ)ì´ ì•ì— ë¶™ì–´ ìˆì–´, ë¼ì¸ì˜ ì‹œì‘ ë¶€ë¶„ì— ë‚˜ì˜¤ëŠ” í´ë˜ìŠ¤ ì„ ì–¸ì„ ì •í™•íˆ ì°¾ì•„ëƒ…ë‹ˆë‹¤.  

2. '\ndef ': í•¨ìˆ˜ ì •ì˜ë¥¼ ê·¸ ë‹¤ìŒ ë¶„í•  ë‹¨ìœ„ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤. í´ë˜ìŠ¤ ë‚´ë¶€ê°€ ì•„ë‹Œ, ëª¨ë“ˆ ë ˆë²¨ì—ì„œ ì •ì˜ëœ í•¨ìˆ˜ë“¤ì„ ë¶„ë¦¬í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.  

3. '\n\tdef ': í´ë˜ìŠ¤ ë‚´ë¶€ì— ì •ì˜ëœ ë©”ì„œë“œ(ë©”ì†Œë“œ)ë¥¼ ë¶„ë¦¬í•©ë‹ˆë‹¤. \t (íƒ­)ì€ ë“¤ì—¬ì“°ê¸°ë¥¼ ì˜ë¯¸í•˜ë©°, ì´ë¥¼ í†µí•´ í´ë˜ìŠ¤ì— ì†í•œ ë©”ì„œë“œ ì •ì˜ë¥¼ ì‹ë³„í•©ë‹ˆë‹¤.  

4. '\n\n': ë‘ ë²ˆì˜ ì¤„ë°”ê¿ˆì„ ê¸°ì¤€ìœ¼ë¡œ ë¶„í• í•©ë‹ˆë‹¤. íŒŒì´ì¬ì—ì„œëŠ” ë³´í†µ í•¨ìˆ˜ë‚˜ í´ë˜ìŠ¤ ì •ì˜ ì‚¬ì´, ë˜ëŠ” ë…¼ë¦¬ì ìœ¼ë¡œ êµ¬ë¶„ë˜ëŠ” ì½”ë“œ ë¸”ë¡ ì‚¬ì´ì— ë¹ˆ ì¤„ì„ ë‘ëŠ” ê²½ìš°ê°€ ë§ìŠµë‹ˆë‹¤. ì´ëŠ” ì½”ë“œì˜ ë…¼ë¦¬ì  ë‹¨ë½ì„ ë‚˜ëˆ„ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.  
  
5. '\n': ë‹¨ì¼ ì¤„ë°”ê¿ˆì„ ê¸°ì¤€ìœ¼ë¡œ ë¶„í• í•©ë‹ˆë‹¤. ë” ì´ìƒ ìœ„ì˜ êµ¬ì¡°ì ì¸ ë¶„í• ì´ ë¶ˆê°€ëŠ¥í•  ê²½ìš°, ê° ì½”ë“œ ë¼ì¸ì„ ê°œë³„ì ì¸ ë‹¨ìœ„ë¡œ ë‚˜ëˆ„ê²Œ ë©ë‹ˆë‹¤.  

6. ' ': ê³µë°±ì„ ê¸°ì¤€ìœ¼ë¡œ ë¶„í• í•©ë‹ˆë‹¤. í…ìŠ¤íŠ¸ê°€ chunk_sizeë¥¼ ì´ˆê³¼í•˜ëŠ” ë§¤ìš° ê¸´ í•œ ì¤„ì˜ ì½”ë“œì¼ ê²½ìš°, ë‹¨ì–´ ë‹¨ìœ„ë¡œ ë¶„í• ì„ ì‹œë„í•©ë‹ˆë‹¤.  

7. '': ë¹ˆ ë¬¸ìì—´ì„ ê¸°ì¤€ìœ¼ë¡œ ë¶„í• í•©ë‹ˆë‹¤. ì´ëŠ” ìµœí›„ì˜ ìˆ˜ë‹¨ìœ¼ë¡œ, ì–´ë–¤ êµ¬ë¶„ìë¡œë„ ë” ì´ìƒ ë‚˜ëˆŒ ìˆ˜ ì—†ëŠ” ìƒíƒœì—ì„œ ë©ì–´ë¦¬ê°€ ì—¬ì „íˆ ë„ˆë¬´ í¬ë‹¤ë©´, ê¸€ì ë‹¨ìœ„ë¡œ ê°•ì œ ë¶„í• ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.  

## Python

`RecursiveCharacterTextSplitter` ì‚¬ìš©í•œ ì˜ˆì œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

- `RecursiveCharacterTextSplitter`ë¥¼ ì‚¬ìš©í•˜ì—¬ Python ì½”ë“œë¥¼ ë¬¸ì„œ ë‹¨ìœ„ë¡œ ë¶„í• í•©ë‹ˆë‹¤.
  - `language` ë§¤ê°œë³€ìˆ˜ì— `Language.PYTHON`ì„ ì§€ì •í•˜ì—¬ Python ì–¸ì–´ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
  - `chunk_size`ë¥¼ 50ìœ¼ë¡œ ì„¤ì •í•˜ì—¬ ê° ë¬¸ì„œì˜ ìµœëŒ€ í¬ê¸°ë¥¼ ì œí•œí•©ë‹ˆë‹¤.
  - `chunk_overlap`ì„ 0ìœ¼ë¡œ ì„¤ì •í•˜ì—¬ ë¬¸ì„œ ê°„ì˜ ì¤‘ë³µì„ í—ˆìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

```python
PYTHON_CODE = """
def hello_world():
    print("Hello, World!")

hello_world()
"""

python_splitter = RecursiveCharacterTextSplitter.from_language(
    language=Language.PYTHON, chunk_size=50, chunk_overlap=0
)
```

`Document` ë¥¼ ìƒì„±í•©ë‹ˆë‹¤. ìƒì„±ëœ `Document` ëŠ” ë¦¬ìŠ¤íŠ¸ í˜•íƒœë¡œ ë°˜í™˜ë©ë‹ˆë‹¤.

```python
python_docs = python_splitter.create_documents([PYTHON_CODE])
python_docs
```

**Output:**

```
[Document(metadata={}, page_content='def hello_world():\n    print("Hello, World!")'),
 Document(metadata={}, page_content='hello_world()')]
```

```python
for doc in python_docs:
    print(doc.page_content, end="\n==================\n")
```

**Output:**

```
def hello_world():
    print("Hello, World!")
==================
hello_world()
==================
```

## JS

ë‹¤ìŒì€ JS í…ìŠ¤íŠ¸ ë¶„í• ê¸°ë¥¼ ì‚¬ìš©í•œ ì˜ˆì‹œì…ë‹ˆë‹¤

```python
JS_CODE = """
function helloWorld() {
  console.log("Hello, World!");
}

helloWorld();
"""

js_splitter = RecursiveCharacterTextSplitter.from_language(
    language=Language.JS, chunk_size=60, chunk_overlap=0
)

js_docs = js_splitter.create_documents([JS_CODE])
js_docs
```

**Output:**

```
[Document(metadata={}, page_content='function helloWorld() {\n  console.log("Hello, World!");\n}'),
 Document(metadata={}, page_content='helloWorld();')]
```

## TS

ë‹¤ìŒì€ TS í…ìŠ¤íŠ¸ ë¶„í• ê¸°ë¥¼ ì‚¬ìš©í•œ ì˜ˆì‹œì…ë‹ˆë‹¤.

```python
TS_CODE = """
function helloWorld(): void {
  console.log("Hello, World!");
}

helloWorld();
"""

ts_splitter = RecursiveCharacterTextSplitter.from_language(
    language=Language.TS, chunk_size=60, chunk_overlap=0
)
ts_docs = ts_splitter.create_documents([TS_CODE])
ts_docs
```

**Output:**

```
[Document(metadata={}, page_content='function helloWorld(): void {'),
 Document(metadata={}, page_content='console.log("Hello, World!");\n}'),
 Document(metadata={}, page_content='helloWorld();')]
```

## Markdown

ë‹¤ìŒì€ Markdown í…ìŠ¤íŠ¸ ë¶„í• ê¸°ë¥¼ ì‚¬ìš©í•œ ì˜ˆì‹œì…ë‹ˆë‹¤.

```python
markdown_text = """
# ğŸ¦œï¸ğŸ”— LangChain

âš¡ LLMì„ í™œìš©í•œ ì´ˆìŠ¤í”¼ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ êµ¬ì¶• âš¡

## ë¹ ë¥¸ ì„¤ì¹˜

```bash
pip install langchain
```

# ë¹ ë¥´ê²Œ ë°œì „í•˜ëŠ” ë¶„ì•¼ì˜ ì˜¤í”ˆ ì†ŒìŠ¤ í”„ë¡œì íŠ¸ ì…ë‹ˆë‹¤. ë§ê´€ë¶€ ğŸ™
"""
```

ë¶„í• í•˜ê³  ê²°ê³¼ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤.

```python
md_splitter = RecursiveCharacterTextSplitter.from_language(
    # ë§ˆí¬ë‹¤ìš´ ì–¸ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ í…ìŠ¤íŠ¸ ë¶„í• ê¸° ìƒì„±
    language=Language.MARKDOWN,
    # ì²­í¬ í¬ê¸°ë¥¼ 60ìœ¼ë¡œ ì„¤ì •
    chunk_size=60,
    # ì²­í¬ ê°„ ì¤‘ë³µë˜ëŠ” ë¶€ë¶„ì´ ì—†ë„ë¡ ì„¤ì •
    chunk_overlap=0,
)
# ë§ˆí¬ë‹¤ìš´ í…ìŠ¤íŠ¸ë¥¼ ë¶„í• í•˜ì—¬ ë¬¸ì„œ ìƒì„±
md_docs = md_splitter.create_documents([markdown_text])
# ìƒì„±ëœ ë¬¸ì„œ ì¶œë ¥
md_docs
```

**Output:**

```
[Document(metadata={}, page_content='# ğŸ¦œï¸ğŸ”— LangChain\n\nâš¡ LLMì„ í™œìš©í•œ ì´ˆìŠ¤í”¼ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ êµ¬ì¶• âš¡'),
 Document(metadata={}, page_content='## ë¹ ë¥¸ ì„¤ì¹˜\n\n```bash\npip install langchain\n```'),
 Document(metadata={}, page_content='# ë¹ ë¥´ê²Œ ë°œì „í•˜ëŠ” ë¶„ì•¼ì˜ ì˜¤í”ˆ ì†ŒìŠ¤ í”„ë¡œì íŠ¸ ì…ë‹ˆë‹¤. ë§ê´€ë¶€ ğŸ™')]
```

## Latex

LaTeXëŠ” ë¬¸ì„œ ì‘ì„±ì„ ìœ„í•œ ë§ˆí¬ì—… ì–¸ì–´ë¡œ, ìˆ˜í•™ ê¸°í˜¸ì™€ ìˆ˜ì‹ì„ í‘œí˜„í•˜ëŠ” ë° ë„ë¦¬ ì‚¬ìš©ë©ë‹ˆë‹¤.

ë‹¤ìŒì€ LaTeX í…ìŠ¤íŠ¸ì˜ ì˜ˆì‹œì…ë‹ˆë‹¤.

```python
latex_text = """
\documentclass{article}

\begin{document}

\maketitle

\section{Introduction}
% LLMì€ ë°©ëŒ€í•œ ì–‘ì˜ í…ìŠ¤íŠ¸ ë°ì´í„°ë¡œ í•™ìŠµí•˜ì—¬ ì‚¬ëŒê³¼ ìœ ì‚¬í•œ ì–¸ì–´ë¥¼ ìƒì„±í•  ìˆ˜ ìˆëŠ” ê¸°ê³„ í•™ìŠµ ëª¨ë¸ì˜ í•œ ìœ í˜•ì…ë‹ˆë‹¤.
% ìµœê·¼ ëª‡ ë…„ ë™ì•ˆ LLMì€ ì–¸ì–´ ë²ˆì—­, í…ìŠ¤íŠ¸ ìƒì„±, ê°ì„± ë¶„ì„ ë“± ë‹¤ì–‘í•œ ìì—°ì–´ ì²˜ë¦¬ ì‘ì—…ì—ì„œ ìƒë‹¹í•œ ë°œì „ì„ ì´ë£¨ì—ˆìŠµë‹ˆë‹¤.

\subsection{History of LLMs}
% ì´ˆê¸° LLMì€ 1980ë…„ëŒ€ì™€ 1990ë…„ëŒ€ì— ê°œë°œë˜ì—ˆì§€ë§Œ, ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ë°ì´í„° ì–‘ê³¼ ë‹¹ì‹œ ì‚¬ìš© ê°€ëŠ¥í•œ ì»´í“¨íŒ… ëŠ¥ë ¥ìœ¼ë¡œ ì¸í•´ ì œí•œë˜ì—ˆìŠµë‹ˆë‹¤.
% ê·¸ëŸ¬ë‚˜ ì§€ë‚œ 10ë…„ ë™ì•ˆ í•˜ë“œì›¨ì–´ì™€ ì†Œí”„íŠ¸ì›¨ì–´ì˜ ë°œì „ìœ¼ë¡œ ëŒ€ê·œëª¨ ë°ì´í„° ì„¸íŠ¸ì— ëŒ€í•´ LLMì„ í•™ìŠµì‹œí‚¬ ìˆ˜ ìˆê²Œ ë˜ì—ˆê³ , ì´ëŠ” ì„±ëŠ¥ì˜ í° í–¥ìƒìœ¼ë¡œ ì´ì–´ì¡ŒìŠµë‹ˆë‹¤.

\subsection{Applications of LLMs}
% LLMì€ ì±—ë´‡, ì½˜í…ì¸  ìƒì„±, ê°€ìƒ ì–´ì‹œìŠ¤í„´íŠ¸ ë“± ì‚°ì—… ë¶„ì•¼ì—ì„œ ë§ì€ ì‘ìš© ë¶„ì•¼ë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.
% ë˜í•œ ì–¸ì–´í•™, ì‹¬ë¦¬í•™, ì»´í“¨í„° ì–¸ì–´í•™ ì—°êµ¬ë¥¼ ìœ„í•´ í•™ê³„ì—ì„œë„ ì‚¬ìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

\end{document}
"""
```

ë¶„í• í•˜ê³  ê²°ê³¼ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤.

```python
latex_splitter = RecursiveCharacterTextSplitter.from_language(
    # ë§ˆí¬ë‹¤ìš´ ì–¸ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ í…ìŠ¤íŠ¸ë¥¼ ë¶„í• í•©ë‹ˆë‹¤.
    language=Language.LATEX,
    # ê° ì²­í¬ì˜ í¬ê¸°ë¥¼ 60ìë¡œ ì„¤ì •í•©ë‹ˆë‹¤.
    chunk_size=60,
    # ì²­í¬ ê°„ì˜ ì¤‘ë³µë˜ëŠ” ë¬¸ì ìˆ˜ë¥¼ 0ìœ¼ë¡œ ì„¤ì •í•©ë‹ˆë‹¤.
    chunk_overlap=0,
)
# latex_textë¥¼ ë¶„í• í•˜ì—¬ ë¬¸ì„œ ëª©ë¡ì„ ìƒì„±í•©ë‹ˆë‹¤.
latex_docs = latex_splitter.create_documents([latex_text])
# ìƒì„±ëœ ë¬¸ì„œ ëª©ë¡ì„ ì¶œë ¥í•©ë‹ˆë‹¤.
latex_docs
```

**Output:**

```
[Document(metadata={}, page_content='\\documentclass{article}\n\n\begin{document}\n\n\maketitle'),
 Document(metadata={}, page_content='\section{Introduction}\n% LLMì€ ë°©ëŒ€í•œ ì–‘ì˜ í…ìŠ¤íŠ¸ ë°ì´í„°ë¡œ í•™ìŠµí•˜ì—¬ ì‚¬ëŒê³¼ ìœ ì‚¬í•œ'),
 Document(metadata={}, page_content='ì–¸ì–´ë¥¼ ìƒì„±í•  ìˆ˜ ìˆëŠ” ê¸°ê³„ í•™ìŠµ ëª¨ë¸ì˜ í•œ ìœ í˜•ì…ë‹ˆë‹¤.\n% ìµœê·¼ ëª‡ ë…„ ë™ì•ˆ LLMì€ ì–¸ì–´ ë²ˆì—­, í…ìŠ¤íŠ¸'),
 Document(metadata={}, page_content='ìƒì„±, ê°ì„± ë¶„ì„ ë“± ë‹¤ì–‘í•œ ìì—°ì–´ ì²˜ë¦¬ ì‘ì—…ì—ì„œ ìƒë‹¹í•œ ë°œì „ì„ ì´ë£¨ì—ˆìŠµë‹ˆë‹¤.'),
 Document(metadata={}, page_content='\subsection{History of LLMs}\n% ì´ˆê¸° LLMì€ 1980ë…„ëŒ€ì™€ 1990ë…„ëŒ€ì—'),
 Document(metadata={}, page_content='ê°œë°œë˜ì—ˆì§€ë§Œ, ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ë°ì´í„° ì–‘ê³¼ ë‹¹ì‹œ ì‚¬ìš© ê°€ëŠ¥í•œ ì»´í“¨íŒ… ëŠ¥ë ¥ìœ¼ë¡œ ì¸í•´ ì œí•œë˜ì—ˆìŠµë‹ˆë‹¤.\n%'),
 Document(metadata={}, page_content='ê·¸ëŸ¬ë‚˜ ì§€ë‚œ 10ë…„ ë™ì•ˆ í•˜ë“œì›¨ì–´ì™€ ì†Œí”„íŠ¸ì›¨ì–´ì˜ ë°œì „ìœ¼ë¡œ ëŒ€ê·œëª¨ ë°ì´í„° ì„¸íŠ¸ì— ëŒ€í•´ LLMì„ í•™ìŠµì‹œí‚¬ ìˆ˜'),
 Document(metadata={}, page_content='ìˆê²Œ ë˜ì—ˆê³ , ì´ëŠ” ì„±ëŠ¥ì˜ í° í–¥ìƒìœ¼ë¡œ ì´ì–´ì¡ŒìŠµë‹ˆë‹¤.'),
 Document(metadata={}, page_content='\subsection{Applications of LLMs}\n% LLMì€ ì±—ë´‡, ì½˜í…ì¸  ìƒì„±, ê°€ìƒ'),
 Document(metadata={}, page_content='ì–´ì‹œìŠ¤í„´íŠ¸ ë“± ì‚°ì—… ë¶„ì•¼ì—ì„œ ë§ì€ ì‘ìš© ë¶„ì•¼ë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.\n% ë˜í•œ ì–¸ì–´í•™, ì‹¬ë¦¬í•™, ì»´í“¨í„° ì–¸ì–´í•™'),
 Document(metadata={}, page_content='ì—°êµ¬ë¥¼ ìœ„í•´ í•™ê³„ì—ì„œë„ ì‚¬ìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\end{document}')]
```

## HTML

HTML í…ìŠ¤íŠ¸ ë¶„í• ê¸°ë¥¼ ì‚¬ìš©í•œ ì˜ˆì œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

```python
html_text = """
<!DOCTYPE html>
<html>
    <head>
        <title>ğŸ¦œï¸ğŸ”— LangChain</title>
        <style>
            body {
                font-family: Arial, sans-serif;  
            }
            h1 {
                color: darkblue;
            }
        </style>
    </head>
    <body>
        <div>
            <h1>ğŸ¦œï¸ğŸ”— LangChain</h1>
            <p>âš¡ Building applications with LLMs through composability âš¡</p>  
        </div>
        <div>
            As an open-source project in a rapidly developing field, we are extremely open to contributions.
        </div>
    </body>
</html>
"""
```

ë¶„í• í•˜ê³  ê²°ê³¼ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤.

```python
html_splitter = RecursiveCharacterTextSplitter.from_language(
    # HTML ì–¸ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ í…ìŠ¤íŠ¸ ë¶„í• ê¸° ìƒì„±
    language=Language.HTML,
    # ì²­í¬ í¬ê¸°ë¥¼ 60ìœ¼ë¡œ ì„¤ì •
    chunk_size=60,
    # ì²­í¬ ê°„ ì¤‘ë³µë˜ëŠ” ë¶€ë¶„ì´ ì—†ë„ë¡ ì„¤ì •
    chunk_overlap=0,
)
# ì£¼ì–´ì§„ HTML í…ìŠ¤íŠ¸ë¥¼ ë¶„í• í•˜ì—¬ ë¬¸ì„œ ìƒì„±
html_docs = html_splitter.create_documents([html_text])
# ìƒì„±ëœ ë¬¸ì„œ ì¶œë ¥
html_docs
```

**Output:**

```
[Document(metadata={}, page_content='<!DOCTYPE html>\n<html>'),
 Document(metadata={}, page_content='<head>\n        <title>ğŸ¦œï¸ğŸ”— LangChain</title>'),
 Document(metadata={}, page_content='<style>\n            body {\n                font-family: Aria'),
 Document(metadata={}, page_content='l, sans-serif;  \n            }\n            h1 {'),
 Document(metadata={}, page_content='color: darkblue;\n            }\n        </style>\n    </he'),
 Document(metadata={}, page_content='ad>'),
 Document(metadata={}, page_content='<body>'),
 Document(metadata={}, page_content='<div>\n            <h1>ğŸ¦œï¸ğŸ”— LangChain</h1>'),
 Document(metadata={}, page_content='<p>âš¡ Building applications with LLMs through composability âš¡'),
 Document(metadata={}, page_content='</p>  \n        </div>'),
 Document(metadata={}, page_content='<div>\n            As an open-source project in a rapidly dev'),
 Document(metadata={}, page_content='eloping field, we are extremely open to contributions.'),
 Document(metadata={}, page_content='</div>\n    </body>\n</html>')]
```

```python
!pip install markdownify
```

**Output:**

```
Collecting markdownify
  Downloading markdownify-1.2.0-py3-none-any.whl.metadata (9.9 kB)
Requirement already satisfied: beautifulsoup4<5,>=4.9 in c:\users\sba\appdata\local\pypoetry\cache\virtualenvs\langchain-kr-us6bdj1p-py3.11\lib\site-packages (from markdownify) (4.13.4)
Requirement already satisfied: six<2,>=1.15 in c:\users\sba\appdata\local\pypoetry\cache\virtualenvs\langchain-kr-us6bdj1p-py3.11\lib\site-packages (from markdownify) (1.17.0)
Requirement already satisfied: soupsieve>1.2 in c:\users\sba\appdata\local\pypoetry\cache\virtualenvs\langchain-kr-us6bdj1p-py3.11\lib\site-packages (from beautifulsoup4<5,>=4.9->markdownify) (2.7)
Requirement already satisfied: typing-extensions>=4.0.0 in c:\users\sba\appdata\local\pypoetry\cache\virtualenvs\langchain-kr-us6bdj1p-py3.11\lib\site-packages (from beautifulsoup4<5,>=4.9->markdownify) (4.14.1)
Downloading markdownify-1.2.0-py3-none-any.whl (15 kB)
Installing collected packages: markdownify
Successfully installed markdownify-1.2.0
```

```python
# í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜
# pip install markdownify beautifulsoup4

from markdownify import markdownify as md
from bs4 import BeautifulSoup

# 1. ë³€í™˜í•  HTML ë‚´ìš©
html_content = """
<!DOCTYPE html>
<html>
<head>
    <title>HTML to Markdown ë³€í™˜</title>
</head>
<body>
    <h1>LangChainê³¼ RAG</h1>
    <p>RAG(Retrieval-Augmented Generation)ëŠ” ì™¸ë¶€ ë°ì´í„°ë¥¼ í™œìš©í•˜ì—¬ LLMì˜ ë‹µë³€ì„ ë³´ê°•í•˜ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤. LLMì˜ í•œê³„ë¥¼ ë³´ì™„í•˜ì—¬ ë” ì •í™•í•œ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.</p>
    <h2>ì£¼ìš” êµ¬ì„± ìš”ì†Œ</h2>
    <ul>
        <li>ë¬¸ì„œ ë¡œë” (Document Loaders)</li>
        <li>í…ìŠ¤íŠ¸ ë¶„í• ê¸° (Text Splitters)</li>
        <li>ì„ë² ë”© ëª¨ë¸ (Embedding Models)</li>
        <li>ë²¡í„° ì €ì¥ì†Œ (Vector Store)</li>
    </ul>
    <h3>íŒŒì´í”„ë¼ì¸ ë‹¨ê³„</h3>
    <ol>
        <li>ë°ì´í„° ìˆ˜ì§‘ ë° ì „ì²˜ë¦¬</li>
        <li>ì§ˆë¬¸ ê²€ìƒ‰ ë° ê´€ë ¨ ì •ë³´ ì¶”ì¶œ</li>
        <li>LLMì„ í†µí•œ ë‹µë³€ ìƒì„±</li>
    </ol>
</body>
</html>
"""

# 2. BeautifulSoupë¥¼ ì‚¬ìš©í•˜ì—¬ HTML <title> íƒœê·¸ ì¶”ì¶œ (ì„ íƒ ì‚¬í•­)
# HTMLì˜ <head>ì— ìˆëŠ” titleì„ ë³€í™˜ ê²°ê³¼ì˜ ìµœìƒë‹¨ ì œëª©ìœ¼ë¡œ ì‚¬ìš©í•˜ê³  ì‹¶ì„ ë•Œ ìœ ìš©í•©ë‹ˆë‹¤.
soup = BeautifulSoup(html_content, "html.parser")
html_title = soup.title.string if soup.title else "ì œëª© ì—†ìŒ"
print(f"ë³€í™˜ëœ Markdown ì œëª©: # {html_title}\n")


# 3. markdownifyë¥¼ ì‚¬ìš©í•˜ì—¬ HTML ë³¸ë¬¸ì„ ë§ˆí¬ë‹¤ìš´ìœ¼ë¡œ ë³€í™˜
# h1 -> #, h2 -> ##, p -> ë‹¨ë½, ul/li -> *, ol/li -> 1. ìœ¼ë¡œ ë³€í™˜
markdown_result = md(html_content)

# 4. ë³€í™˜ ê²°ê³¼ ì¶œë ¥
print("--- ì›ë³¸ HTML ë‚´ìš© ---")
print(html_content)
print("\n" + "=" * 50 + "\n")
print("--- ë§ˆí¬ë‹¤ìš´ ë³€í™˜ ê²°ê³¼ ---")
# ì¶”ì¶œí•œ íƒ€ì´í‹€ì„ ê²°ê³¼ì— ì¶”ê°€
final_markdown = f"# {html_title}\n\n" + markdown_result
print(final_markdown)
```

**Output:**

```
ë³€í™˜ëœ Markdown ì œëª©: # HTML to Markdown ë³€í™˜

--- ì›ë³¸ HTML ë‚´ìš© ---

<!DOCTYPE html>
<html>
<head>
    <title>HTML to Markdown ë³€í™˜</title>
</head>
<body>
    <h1>LangChainê³¼ RAG</h1>
    <p>RAG(Retrieval-Augmented Generation)ëŠ” ì™¸ë¶€ ë°ì´í„°ë¥¼ í™œìš©í•˜ì—¬ LLMì˜ ë‹µë³€ì„ ë³´ê°•í•˜ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤. LLMì˜ í•œê³„ë¥¼ ë³´ì™„í•˜ì—¬ ë” ì •í™•í•œ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.</p>
    <h2>ì£¼ìš” êµ¬ì„± ìš”ì†Œ</h2>
    <ul>
        <li>ë¬¸ì„œ ë¡œë” (Document Loaders)</li>
        <li>í…ìŠ¤íŠ¸ ë¶„í• ê¸° (Text Splitters)</li>
        <li>ì„ë² ë”© ëª¨ë¸ (Embedding Models)</li>
        <li>ë²¡í„° ì €ì¥ì†Œ (Vector Store)</li>
    </ul>
    <h3>íŒŒì´í”„ë¼ì¸ ë‹¨ê³„</h3>
    <ol>
        <li>ë°ì´í„° ìˆ˜ì§‘ ë° ì „ì²˜ë¦¬</li>
        <li>ì§ˆë¬¸ ê²€ìƒ‰ ë° ê´€ë ¨ ì •ë³´ ì¶”ì¶œ</li>
        <li>LLMì„ í†µí•œ ë‹µë³€ ìƒì„±</li>
    </ol>
</body>
</html>


==================================================

--- ë§ˆí¬ë‹¤ìš´ ë³€í™˜ ê²°ê³¼ ---
# HTML to Markdown ë³€í™˜

HTML to Markdown ë³€í™˜


LangChainê³¼ RAG
==============

RAG(Retrieval-Augmented Generation)ëŠ” ì™¸ë¶€ ë°ì´í„°ë¥¼ í™œìš©í•˜ì—¬ LLMì˜ ë‹µë³€ì„ ë³´ê°•í•˜ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤. LLMì˜ í•œê³„ë¥¼ ë³´ì™„í•˜ì—¬ ë” ì •í™•í•œ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

ì£¼ìš” êµ¬ì„± ìš”ì†Œ
--------

* ë¬¸ì„œ ë¡œë” (Document Loaders)
* í…ìŠ¤íŠ¸ ë¶„í• ê¸° (Text Splitters)
* ì„ë² ë”© ëª¨ë¸ (Embedding Models)
* ë²¡í„° ì €ì¥ì†Œ (Vector Store)

### íŒŒì´í”„ë¼ì¸ ë‹¨ê³„

1. ë°ì´í„° ìˆ˜ì§‘ ë° ì „ì²˜ë¦¬
2. ì§ˆë¬¸ ê²€ìƒ‰ ë° ê´€ë ¨ ì •ë³´ ì¶”ì¶œ
3. LLMì„ í†µí•œ ë‹µë³€ ìƒì„±
```

```python
print(final_markdown)
```

**Output:**

```
# HTML to Markdown ë³€í™˜

HTML to Markdown ë³€í™˜


LangChainê³¼ RAG
==============

RAG(Retrieval-Augmented Generation)ëŠ” ì™¸ë¶€ ë°ì´í„°ë¥¼ í™œìš©í•˜ì—¬ LLMì˜ ë‹µë³€ì„ ë³´ê°•í•˜ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤. LLMì˜ í•œê³„ë¥¼ ë³´ì™„í•˜ì—¬ ë” ì •í™•í•œ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

ì£¼ìš” êµ¬ì„± ìš”ì†Œ
--------

* ë¬¸ì„œ ë¡œë” (Document Loaders)
* í…ìŠ¤íŠ¸ ë¶„í• ê¸° (Text Splitters)
* ì„ë² ë”© ëª¨ë¸ (Embedding Models)
* ë²¡í„° ì €ì¥ì†Œ (Vector Store)

### íŒŒì´í”„ë¼ì¸ ë‹¨ê³„

1. ë°ì´í„° ìˆ˜ì§‘ ë° ì „ì²˜ë¦¬
2. ì§ˆë¬¸ ê²€ìƒ‰ ë° ê´€ë ¨ ì •ë³´ ì¶”ì¶œ
3. LLMì„ í†µí•œ ë‹µë³€ ìƒì„±
```

## Solidity

Solidity í…ìŠ¤íŠ¸ ë¶„í• ê¸°ë¥¼ ì‚¬ìš©í•œ ì˜ˆì œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

- Solidity ì½”ë“œë¥¼ ë¬¸ìì—´ í˜•íƒœë¡œ `SOL_CODE` ë³€ìˆ˜ì— ì €ì¥í•©ë‹ˆë‹¤.
- `RecursiveCharacterTextSplitter`ë¥¼ ì‚¬ìš©í•˜ì—¬ Solidity ì½”ë“œë¥¼ ì²­í¬ ë‹¨ìœ„ë¡œ ë¶„í• í•˜ëŠ” `sol_splitter`ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
  - `language` ë§¤ê°œë³€ìˆ˜ë¥¼ `Language.SOL`ë¡œ ì„¤ì •í•˜ì—¬ Solidity ì–¸ì–´ë¥¼ ì§€ì •í•©ë‹ˆë‹¤.
  - `chunk_size`ë¥¼ 128ë¡œ ì„¤ì •í•˜ì—¬ ê° ì²­í¬ì˜ ìµœëŒ€ í¬ê¸°ë¥¼ ì§€ì •í•©ë‹ˆë‹¤.
  - `chunk_overlap`ì„ 0ìœ¼ë¡œ ì„¤ì •í•˜ì—¬ ì²­í¬ ê°„ì˜ ì¤‘ë³µì„ ì—†ì•±ë‹ˆë‹¤.
- `sol_splitter.create_documents()` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ `SOL_CODE`ë¥¼ ì²­í¬ ë‹¨ìœ„ë¡œ ë¶„í• í•˜ê³ , ë¶„í• ëœ ì²­í¬ë¥¼ `sol_docs` ë³€ìˆ˜ì— ì €ì¥í•©ë‹ˆë‹¤.
- `sol_docs`ë¥¼ ì¶œë ¥í•˜ì—¬ ë¶„í• ëœ Solidity ì½”ë“œ ì²­í¬ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.

```python
SOL_CODE = """
pragma solidity ^0.8.20; 
contract HelloWorld {  
   function add(uint a, uint b) pure public returns(uint) {
       return a + b;
   }
}
"""

# ë¶„í• í•˜ê³  ê²°ê³¼ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤.
sol_splitter = RecursiveCharacterTextSplitter.from_language(
    language=Language.SOL, chunk_size=128, chunk_overlap=0
)

sol_docs = sol_splitter.create_documents([SOL_CODE])
sol_docs
```

**Output:**

```
[Document(metadata={}, page_content='pragma solidity ^0.8.20;'),
 Document(metadata={}, page_content='contract HelloWorld {  \n   function add(uint a, uint b) pure public returns(uint) {\n       return a + b;\n   }\n}')]
```

## C#

C# í…ìŠ¤íŠ¸ ë¶„í• ê¸°ë¥¼ ì‚¬ìš©í•œ ì˜ˆì œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

```python
C_CODE = """
using System;
class Program
{
    static void Main()
    {
        Console.WriteLine("Enter a number (1-5):");
        int input = Convert.ToInt32(Console.ReadLine());
        for (int i = 1; i <= input; i++)
        {
            if (i % 2 == 0)
            {
                Console.WriteLine($"{i} is even.");
            }
            else
            {
                Console.WriteLine($"{i} is odd.");
            }
        }
        Console.WriteLine("Goodbye!");
    }
}
"""

# ë¶„í• í•˜ê³  ê²°ê³¼ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤.
c_splitter = RecursiveCharacterTextSplitter.from_language(
    language=Language.CSHARP, chunk_size=128, chunk_overlap=0
)
c_docs = c_splitter.create_documents([C_CODE])
c_docs
```

**Output:**

```
[Document(metadata={}, page_content='using System;'),
 Document(metadata={}, page_content='class Program\n{\n    static void Main()\n    {\n        Console.WriteLine("Enter a number (1-5):");'),
 Document(metadata={}, page_content='int input = Convert.ToInt32(Console.ReadLine());\n        for (int i = 1; i <= input; i++)\n        {'),
 Document(metadata={}, page_content='if (i % 2 == 0)\n            {\n                Console.WriteLine($\"{i} is even.\");\n            }\n            else'),
 Document(metadata={}, page_content='{\n                Console.WriteLine($\"{i} is odd.\");\n            }\n        }\n        Console.WriteLine(\"Goodbye!\");'),
 Document(metadata={}, page_content='}\n}')]
```
