# 현장 안전(PPE) 컴플라이언스 코파일럿 프로젝트 계획서

## 1. 프로젝트 개요

본 프로젝트는 건설, 제조, 실험실 등 산업 현장에서의 **안전 규정 준수 여부를 실시간으로 모니터링**하고, 관련 데이터를 체계적으로 관리하여 안전사고를 예방하는 **AI 기반 솔루션**을 구축하는 것을 목표로 합니다.

컴퓨터 비전 기술(YOLO)을 활용하여 작업자의 개인 보호 장비(PPE) 착용 상태를 자동으로 감지하고, 대규모 언어 모델(LLM)과 검색 증강 생성(RAG) 기술을 접목해 현장 맞춤형 안전 수칙 Q&A 및 자동 보고서 생성 기능을 제공하는 차세대 안전 관리 시스템을 구현합니다.

---

## 2. 시스템 아키텍처

서비스의 전체적인 데이터 흐름과 구성 요소는 다음과 같으며, 확장성과 안정성을 고려하여 설계되었습니다.

* **사용자 인터페이스 (Frontend)**
    * **React 기반 대시보드:** 관리자가 현장 영상(라이브 스트림 또는 업로드 파일)을 모니터링하고, PPE 위반 감지 시 발생하는 실시간 알림을 확인합니다. 또한, 생성된 안전 리포트를 조회하고 RAG 기반의 안전수칙 챗봇을 사용할 수 있는 웹 인터페이스를 제공합니다.

* **애플리케이션 서버 (Backend)**
    * **FastAPI 프레임워크:** Python 기반의 고성능 API 서버로, 영상 처리 요청, RAG 질의응답, 리포트 생성 등 핵심 비즈니스 로직을 처리합니다. 자동 생성되는 API 문서를 통해 프론트엔드와의 효율적인 연동을 지원합니다.

* **AI 모델 및 데이터 (AI Models & Data)**
    * **컴퓨터 비전 (YOLOv8/v11 + DeepSort/ByteTrack):** YOLO를 통해 안전모, 조끼, 장갑 등 PPE 객체를 탐지하며, DeepSort/ByteTrack으로 각 작업자에게 고유 ID를 할당하고 이동 경로를 추적하여 반복적인 위반 여부를 식별하고 통계를 생성합니다.
    * **자연어 처리 (LangChain + Vector DB):** LangChain을 사용해 안전보건공단 가이드라인 등 비정형 텍스트 문서를 벡터로 변환하는 RAG 파이프라인을 구축합니다. FAISS/ChromaDB는 벡터를 저장하고 사용자의 질문과 가장 유사한 내용을 신속하게 검색해 답변의 근거를 마련합니다.

* **데이터 저장소 (Data Stores)**
    * **객체 저장소 (Cloud Storage 등):** 위반 순간이 포착된 이미지/비디오 클립과 원본 안전수칙 문서 파일들을 저장합니다.
    * **관계형 데이터베이스 (PostgreSQL 등):** 감지된 위반 이벤트(시간, 장소, 위반자 ID), 사용자 정보, 생성된 리포트 등 정형 데이터를 저장하고 관리합니다.

---

## 3. 핵심 기능 상세

* **실시간 PPE 착용 및 위험 구역 접근 감지:** 현장 CCTV 또는 드론 영상을 실시간으로 분석하여 필수 PPE 착용 여부를 탐지합니다. 또한, '위험 구역(Zone of Interest)'을 설정하여 작업자의 접근 및 위험 행동을 자동으로 감지합니다.

* **RAG 기반 대화형 안전수칙 Q&A:** 회사의 안전 매뉴얼, 비상 대응 절차서 등 내부 문서를 기반으로 하는 Q&A 봇을 제공합니다. "밀폐 공간 작업 시 필수 안전 장비는?"과 같은 자연어 질문에 즉시 정확하고 근거 있는 답변을 제시합니다.

* **지능형 에이전트(Agent)를 통한 자동 리포팅 및 관리:**
    * **일일 안전 리포트 자동 생성:** 일일 위반 사항을 요약하고 스냅샷을 첨부한 표준화된 리포트를 자동으로 생성하여 관리자에게 전송합니다.
    * **반복 위반자 관리 및 교육 추천:** 특정 기간 동안 위반이 누적된 작업자를 식별하고, 필요한 안전 교육 프로그램을 추천하거나 재점검 일정을 제안합니다.
    * **알림 및 티켓 자동 발행:** 중대한 위반 발생 시 관리자에게 즉시 SMS/이메일 알림을 보내고, 조치 필요 사항에 대한 티켓을 관련 부서에 자동으로 발행합니다.

* **모델 성능 유지를 위한 파인튜닝:** 야간, 우천 등 현장 특수성을 반영한 데이터를 주기적으로 수집하고, 데이터 증강을 수행합니다. 추가된 데이터셋으로 YOLO 모델을 정기적으로 재학습하여 다양한 환경 변화에도 높은 탐지 정확도를 유지합니다.

---

## 4. 기술 스택 및 선정 사유

* **프로그래밍 언어:** Python
* **웹 UI 프레임워크:** **React** (컴포넌트 기반의 동적이고 반응성 높은 사용자 인터페이스 구축에 용이)
* **백엔드 API 프레임워크:** **FastAPI** (Python 기반 비동기 처리로 높은 성능을 보장하며, 자동 API 문서화 기능 제공)
* **AI/ML 라이브러리:**
    * **객체 탐지:** **YOLOv8/v11** (실시간 처리에 적합한 빠른 속도와 높은 정확도의 균형)
    * **객체 추적:** **DeepSort / ByteTrack** (탐지된 객체의 신원을 유지하며 추적하여 개별 작업자의 행동 분석을 가능하게 함)
    * **RAG 프레임워크:** **LangChain** (RAG 구성요소를 유기적으로 결합하는 개발 과정 간소화)
* **벡터 데이터베이스:** **FAISS / ChromaDB** (대규모 벡터 데이터에 대한 빠른 유사도 검색을 지원하여 실시간 Q&A 응답 속도 보장)
* **배포 및 운영:** **Docker** (애플리케이션 환경을 컨테이너화하여 개발, 테스트, 배포 환경의 일관성을 유지하고 이식성을 높임)

---

## 5. 개발 및 배포 계획 (Workflow)

* **1단계: 핵심 AI 모델 개발 및 검증 (로컬 환경)**
    1.  데이터셋 구축 및 증강: 공개 데이터와 자체 촬영 데이터를 통합해 학습 데이터의 다양성을 확보합니다.
    2.  객체 탐지/추적 모델 구현: YOLOv8 기반으로 PPE 클래스 탐지 모델을 훈련하고, DeepSort/ByteTrack을 연동해 작업자 추적 기능을 구현합니다.
    3.  RAG 파이프라인 프로토타입 개발: LangChain을 사용해 문서 로드, 분할, 벡터화 및 질의응답 기능을 테스트합니다.

* **2단계: 애플리케이션 통합 개발 (서버 및 UI)**
    1.  백엔드 API 개발: FastAPI를 사용해 영상 스트림 수신, AI 모델 호출, RAG 질의응답 등 핵심 API를 설계하고 구현합니다.
    2.  프론트엔드 UI 개발: React로 관리자용 대시보드를 구축하고 백엔드 API와 연동합니다.
    3.  데이터베이스 설계 및 구축: 위반 이벤트, 사용자 정보 등을 저장할 데이터베이스 스키마를 설계합니다.

* **3단계: 컨테이너화, 배포 및 에이전트 구현**
    1.  Dockerfile 작성: 백엔드 서버 구동 환경을 정의하는 Dockerfile을 작성합니다.
    2.  클라우드 배포: 빌드된 컨테이너 이미지를 클라우드 환경에 배포합니다.
    3.  자동화 에이전트 구현: 스케줄링 작업을 구현하여 리포팅 및 알림 기능을 자동화합니다.

---

## 6. 기대 효과

* **안전 관리 효율성 증대:** 24시간 자동 모니터링으로 위반 행위를 놓치지 않고, 수동 보고서 작성 시간을 단축하여 관리자의 업무 부담을 경감시킵니다.
* **데이터 기반의 선제적 사고 예방:** 축적된 위반 데이터를 분석해 위험 요소를 식별하고, 이를 바탕으로 선제적인 현장 개선 및 맞춤형 안전 교육이 가능해집니다.
* **안전 문화 정착:** 모든 과정이 자동으로 기록되고 관리된다는 인식을 통해 작업자의 자발적인 안전 수칙 준수 문화를 조성하고, 현장의 안전 수준을 한 단계 높입니다.